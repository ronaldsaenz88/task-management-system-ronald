<div class="max-w-lg mx-auto bg-white shadow-lg rounded-xl p-8 mt-8">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">
    {{ isEditMode ? 'Update Task' : 'Add Task' }}
  </h2>

  <form *ngIf="taskForm" [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <label for="title" class="block font-semibold mb-1">Title:</label>
      <input id="title" formControlName="title" class="w-full border px-3 py-2 rounded" name="title" required />
      <div *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched" class="text-red-500 text-sm">
        Title is required.
      </div>
    </div>
    <div>
      <label for="category" class="block font-semibold mb-1">Category:</label>
      <select id="category" formControlName="category" class="w-full border rounded p-2" name="category" required>
        <option value="">-- Select --</option>
        <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
      </select>
    </div>
    <div>
      <label for="status" class="block font-semibold mb-1">Status:</label>
      <select id="status" formControlName="status" class="w-full border rounded p-2" name="status" required >
        <option value="">-- Select --</option>
        <option *ngFor="let stat of statuses" [value]="stat">{{ stat }}</option>
      </select>
    </div>
    <div class="mb-4">
      <label for="dueDate" class="block font-semibold mb-1">Due Date</label>
      <input id="dueDate" type="date" formControlName="dueDate" class="w-full border px-3 py-2 rounded" />
    </div>
    <div class="mb-4">
      <label for="description" class="block font-semibold mb-1">Description</label>
      <textarea id="description" formControlName="description" rows="3" class="w-full border px-3 py-2 rounded"></textarea>
    </div>
    <div class="flex gap-4 mt-6">
      <button
        type="submit"
        class="bg-blue-600 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-700 font-semibold w-full"
        [disabled]="taskForm.invalid">
        {{ isEditMode ? 'Update Task' : 'Add Task' }}
      </button>
      <button
        type="button"
        class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg shadow hover:bg-gray-400 font-semibold w-full"
        (click)="showTaskBoard()">
        Cancel
      </button>
    </div>
  </form>
</div>